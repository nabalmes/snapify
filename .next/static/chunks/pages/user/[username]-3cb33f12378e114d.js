(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{5606:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/[username]",function(){return s(1235)}])},7015:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var l=s(5893),a=s(9352),n=s(5434);function i(e){let{type:t,message:s,className:i}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 bg-white py-12 "+i,children:["unFound"===t?(0,l.jsx)(n.W7_,{className:"text-gray-500 text-4xl"}):"noFollowing"===t?(0,l.jsx)(a.hh$,{className:"text-gray-500 text-4xl"}):null,(0,l.jsx)("h3",{className:"text-sm md:text-base text-gray-900 font-semibold tracking-tight ",children:s})]})}},1235:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return j}});var l=s(5893),a=s(5675),n=s.n(a),i=s(8193),r=s(1873),c=s(8745),o=s(1664),d=s.n(o),u=s(5149),x=s(5459),h=s(8945),m=s(7294),f=s(1163),g=s(7015);let p=e=>{let{user:t,author:s}=e,a=(0,f.useRouter)(),{username:o,followers:p,following:j,image:v,posts:N,_id:w}=s,[b,y]=(0,m.useState)(!1),[_,k]=(0,m.useState)(!1),Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,s=e.following.some(e=>e===w);y(s)};(0,m.useEffect)(()=>{t&&Z()},[w,null==t?void 0:t.following]);let E=async()=>{if(!t){a.push("/signin");return}k(!0);try{let e=await h.Z.put("/api/users?type=follow&authorId=".concat(w));k(!1),Z(e.data.user)}catch(s){console.error(s.message)}};return(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(x.Z,{}),(0,l.jsxs)("main",{className:"min-h-[700px] p-7 bg-white shadow-sm rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4 mb-12",children:[(0,l.jsx)("div",{className:"w-[60px] rounded-full overflow-hidden aspect-square",children:(0,l.jsx)(n(),{src:u.Z+v,alt:"avatar",width:"60",height:"60",className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-bold md:text-lg",children:o}),(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-wrap text-gray-600 text-sm md:text-[15px]",children:[(0,l.jsxs)("p",{children:[p.length," followers"]}),(0,l.jsxs)("p",{children:[j.length," following"]})]})]}),(null==t?void 0:t._id)!==s._id&&(0,l.jsxs)("button",{type:"button",className:"".concat(_?"text-gray-400 bg-gray-100":"text-blue-600 bg-blue-600/[.10] hover:bg-blue-600/[.15]"," flex items-center gap-2 text-sm rounded-lg py-2 px-6 ml-auto font-medium"),onClick:E,disabled:_,children:["Follow",b&&"ed"]})]}),(0,l.jsx)("section",{className:"grid grid-cols-2 gap-2 relative",children:0!==N.length?N.map(e=>{let{_id:t,content:s,likes:a,comments:c}=e;return(0,l.jsxs)(d(),{href:"/search?value=".concat(t),className:"relative isolate aspect-square overflow-hidden rounded-md",children:[(0,l.jsx)(n(),{src:u.Z+s.images[0],width:"150",height:"150",className:"w-full h-full object-cover",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/[.25] hover:opacity-100 opacity-0 transition-opacity z-10 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex text-gray-300 items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.lo,{className:"text-xl"}),(0,l.jsx)("span",{children:a.length})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(r.THQ,{}),(0,l.jsx)("span",{children:c.length})]})]})})]},t)}):(0,l.jsx)(g.Z,{message:"This user haven't post anything yet",className:"absolute left-1/2 -translate-x-1/2 text-center"})})]})]})};var j=!0;t.default=p}},function(e){e.O(0,[445,13,617,866,556,228,86,937,765,945,893,223,774,888,179],function(){return e(e.s=5606)}),_N_E=e.O()}]);